# Traitement d'un fichier XML sans annotation à un document XML annoté

Cette dernière partie résume les précédentes pour la mise en application sur des données non connues. 
Elle se base sur le programme ```xml2encoded_xml_ner.py``` dont les paramètres dans ```params.py``` sont les suivants : 

paramètre|commentaire
--|--
outdir| dossier qui contiendra les documents XML en sortie, documents avec annotation des EN
csvdocname | nom du document sans extension, qui contiendra les colonnes _originaltext_, _tokens_, _ents_, _prov_ pour chaque page XML du dossier en entrée xml_dir
xml_dir |dossier contenant les pages XML à traiter
model_spacy |nom du modèle spaCy à utiliser.Doit être téléchargé au préalable


Le programme suit les étapes suivantes : 

1. extrait du dossier _xml dir_ les fichiers XML. 
2. extrait de chaque page xml son contenu textuel (depuis la balise 'body') : _originaltext_
3. tokenise le texte brut  _tokens_
4. effectue la reconnaissance d'EN : _ents_
5. rassemble les noms entiers de personnes en fonction des EN extraits 
6. pour chaque nom de personne, cherche l'idref (si une seule possibilité de nom) : ajoute _idref_ en clé au dictionnaire de l'entité correspondante
7. écrit le nouveau document xml avec les étiquettes correspondantes entre param_general['tagged_to_extract'] et param_general['class_names']

